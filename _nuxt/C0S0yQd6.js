import{S as z,G as K,H as G,o as J,I as X,J as Y,K as A,r as Z,L as q,u as tt,M as et,N as rt,O as st,m as F,P as O,Q as E,R as nt,y as Q,q as V,x as ot,A as I,U as T,V as it,z as at,B as ct,C as lt,c as ut,e as N,E as w,f as $,g as x,w as H,W as pt,t as k,j as dt,l as ft,D as W,d as M,X as gt}from"#entry";import{_ as mt}from"./D2QN4ory.js";import{_ as yt}from"./BVDZ-Ndr.js";import{d as _t,_ as ht,q as wt}from"./BovroShK.js";import{u as xt}from"./DODthwwr.js";import{u as bt}from"./H5wljoc2.js";import{_ as vt}from"./DlAUqK2U.js";import"./C55x4Und.js";import"./BXCOoIhK.js";import"./Bkx5dcCw.js";import"./BN_7HF1G.js";function Pt(e={}){const r=[];let l=-1;const t=(n=!1)=>({get(s,u,a){if(!n){const p=Reflect.get(s,u,a);if(typeof p<"u")return p;l++,r[l]=[]}return r[l].push({type:"get",key:u}),new Proxy(()=>{},t(!0))},apply(s,u,a){r[l].push({type:"apply",key:"",args:a})}});return{proxy:new Proxy(e||{},t()),stack:r}}function St(e){const r={get(l,t,n){const s=Reflect.get(l,t,n);return typeof s=="object"?new Proxy(s,r):s},apply(l,t,n){Reflect.apply(l,t,n)}};return new Proxy(e,r)}function kt(e,r){r.forEach(l=>{let t=e,n=e;l.forEach(({type:s,key:u,args:a})=>{s==="get"?(n=t,t=t[u]):s==="apply"&&(t=t.call(n,...a))})})}function Ct(e){return e.key||e.src||(typeof e.innerHTML=="string"?e.innerHTML:"")}const $t=["preconnect","dns-prefetch"];function Rt(e,r,l){const t=typeof r=="string"?{src:r}:r,n=l||{},s=Ct(t),u=e._scripts?.[s];if(u)return u.setupTriggerHandler(n.trigger),u;n.beforeInit?.();const a=o=>{i.status=o,e.hooks.callHook("script:updated",_)};z.forEach(o=>{const c=o,d=typeof t[c]=="function"?t[c].bind(n.eventContext):null;t[c]=g=>{a(o==="onload"?"loaded":o==="onerror"?"error":"loading"),d?.(g)}});const p={loaded:[],error:[]},m=new Set,f=(o,c,d)=>{if(!e.ssr){if(d?.key){const g=`${d?.key}:${d.key}`;if(m.has(g))return;m.add(g)}if(p[o]){const g=p[o].push(c);return()=>p[o]?.splice(g-1,1)}return c(i.instance),()=>{}}},P=new Promise(o=>{if(e.ssr)return;const c=g=>requestAnimationFrame(()=>o(g)),d=e.hooks.hook("script:updated",({script:g})=>{const h=g.status;if(g.id===s&&(h==="loaded"||h==="error")){if(h==="loaded")if(typeof n.use=="function"){const S=n.use();S&&c(S)}else c({});else h==="error"&&o(!1);d()}})}),i={_loadPromise:P,instance:!e.ssr&&n?.use?.()||null,proxy:null,id:s,status:"awaitingLoad",remove(){return i._triggerAbortController?.abort(),i._triggerPromises=[],i._warmupEl?.dispose(),i.entry?(i.entry.dispose(),i.entry=void 0,a("removed"),delete e._scripts?.[s],!0):!1},warmup(o){const{src:c}=t,d=!c.startsWith("/")||c.startsWith("//"),g=o&&$t.includes(o);let h=c;if(!o||g&&!d)return;if(g){const L=new URL(c);h=`${L.protocol}//${L.host}`}const S={href:h,rel:o,crossorigin:typeof t.crossorigin<"u"?t.crossorigin:d?"anonymous":void 0,referrerpolicy:typeof t.referrerpolicy<"u"?t.referrerpolicy:d?"no-referrer":void 0,fetchpriority:typeof t.fetchpriority<"u"?t.fetchpriority:"low",integrity:t.integrity,as:o==="preload"?"script":void 0};return i._warmupEl=e.push({link:[S]},{head:e,tagPriority:"high"}),i._warmupEl},load(o){if(i._triggerAbortController?.abort(),i._triggerPromises=[],!i.entry){a("loading");const c={defer:!0,fetchpriority:"low"};t.src&&(t.src.startsWith("http")||t.src.startsWith("//"))&&(c.crossorigin="anonymous",c.referrerpolicy="no-referrer"),i.entry=e.push({script:[{...c,...t}]},n)}return o&&f("loaded",o),P},onLoaded(o,c){return f("loaded",o,c)},onError(o,c){return f("error",o,c)},setupTriggerHandler(o){if(i.status==="awaitingLoad")if((typeof o>"u"||o==="client")&&!e.ssr||o==="server")i.load();else if(o instanceof Promise){if(e.ssr)return;i._triggerAbortController||(i._triggerAbortController=new AbortController,i._triggerAbortPromise=new Promise(d=>{i._triggerAbortController.signal.addEventListener("abort",()=>{i._triggerAbortController=null,d()})})),i._triggerPromises=i._triggerPromises||[];const c=i._triggerPromises.push(Promise.race([o.then(d=>typeof d>"u"||d?i.load:void 0),i._triggerAbortPromise]).catch(()=>{}).then(d=>{d?.()}).finally(()=>{i._triggerPromises?.splice(c,1)}))}else typeof o=="function"&&o(i.load)},_cbs:p};P.then(o=>{o!==!1?(i.instance=o,p.loaded?.forEach(c=>c(o)),p.loaded=null):(p.error?.forEach(c=>c()),p.error=null)});const _={script:i};if(i.setupTriggerHandler(n.trigger),n.use){const{proxy:o,stack:c}=Pt(e.ssr?{}:n.use()||{});i.proxy=o,i.onLoaded(d=>{kt(d,c),i.proxy=St(d)})}return!n.warmupStrategy&&(typeof n.trigger>"u"||n.trigger==="client")&&(n.warmupStrategy="preload"),n.warmupStrategy&&i.warmup(n.warmupStrategy),e._scripts=Object.assign(e._scripts||{},{[s]:i}),i}function It(e,r){if(!r)return;const l=(t,n)=>{if(!e._cbs[t])return n(e.instance),()=>{};let s=e._cbs[t].push(n);const u=()=>{s&&(e._cbs[t]?.splice(s-1,1),s=null)};return A(u),u};e.onLoaded=t=>l("loaded",t),e.onError=t=>l("error",t),A(()=>{e._triggerAbortController?.abort()})}function jt(e,r){const l=typeof e=="string"?{src:e}:e,t=r||{},n=t?.head||K();t.head=n;const s=G();if(t.eventContext=s,s&&typeof t.trigger>"u")t.trigger=J;else if(X(t.trigger)){const a=t.trigger;let p;t.trigger=new Promise(m=>{p=Y(a,f=>{f&&m(!0)},{immediate:!0}),A(()=>m(!1),!0)}).then(m=>(p?.(),m))}n._scriptStatusWatcher=n._scriptStatusWatcher||n.hooks.hook("script:updated",({script:a})=>{a._statusRef.value=a.status});const u=Rt(n,l,t);return u._statusRef=u._statusRef||Z(u.status),It(u,s),new Proxy(u,{get(a,p,m){return Reflect.get(a,p==="status"?"_statusRef":p,m)}})}function At(e){return null}function Lt(){return F().public["nuxt-scripts"]}function Ot(e){return e.key||e.src||(typeof e.innerHTML=="string"?e.innerHTML:"")}function Et(e,r){e=typeof e=="string"?{src:e}:e,r=q(r,Lt()?.defaultScriptOptions),r.trigger&&typeof r.trigger=="object"&&!("then"in r.trigger)&&At(r.trigger);const l=String(Ot(e)),t=tt();if(r.head=r.head||et(),!r.head)throw new Error("useScript() has been called without Nuxt context.");t.$scripts=t.$scripts||rt({}),t.$scripts?.[l];const n=r._validate?.();(r.trigger==="onNuxtReady"||r.trigger==="client")&&(r.warmupStrategy||(r.warmupStrategy="preload"),r.trigger==="onNuxtReady"&&(r.trigger=st));const s=jt(e,r),u=s.remove;s.remove=()=>(t.$scripts[l]=void 0,u());const a=s.load;return s.load=async()=>n?Promise.reject(n):a(),t.$scripts[l]=s,s}const v=Object.freeze(Object.assign(()=>{},{__mock__:!0})),B=v,U=v,C=v,R=v,y=v,b=v,j=v,Tt=v,Nt=v;function Ht(e){return(F().public.scripts||{})[e]}function Wt(e,r,l){const t=Ht(e),n=Object.assign(l||{},typeof t=="object"?t:{}),s=r(n,{scriptInput:n.scriptInput});let u=s.scriptInput;const a=n.scriptInput?.src,p=s.scriptInput?.src;if(a&&p&&typeof p=="string"&&typeof a=="string"){const i=O(p),_=O(a),o=E(i.search||""),c=E(_.search||""),d={...o,...c},g=_.href?.split("?")[0]||a;u={...s.scriptInput||{},src:nt(g,d)}}const m=q(u,n.scriptInput,{key:e}),f=Object.assign(n?.scriptOptions||{},s.scriptOptions||{}),P=f.beforeInit;return f.beforeInit=()=>{P?.(),s.clientInit?.()},Et(m,f)}const D=[b("hash"),b("outbound-links"),b("file-downloads"),b("tagged-events"),b("revenue"),b("pageview-props"),b("compat"),b("local"),b("manual")];B({scriptId:y(C()),domain:y(C()),extension:y(j([j(D),U(j(D))])),customProperties:y(Tt(C(),Nt())),endpoint:y(C()),fileDownloads:y(B({fileExtensions:y(U(C()))})),hashBasedRouting:y(R()),autoCapturePageviews:y(R()),captureOnLocalhost:y(R()),trackForms:y(R())});function Mt(e){return Wt("plausibleAnalytics",r=>{const l=!!r?.scriptId,t=!!r?.extension;let n;l?n=`https://plausible.io/js/pa-${r.scriptId}.js`:t?n=`https://plausible.io/js/script.${Array.isArray(r.extension)?r.extension.join("."):[r.extension]}.js`:n="https://plausible.io/js/script.js";const s={};return r?.customProperties&&(s.customProperties=r.customProperties),r?.endpoint&&(s.endpoint=r.endpoint),r?.fileDownloads&&(s.fileDownloads=r.fileDownloads),r?.hashBasedRouting!==void 0&&(s.hashBasedRouting=r.hashBasedRouting),r?.autoCapturePageviews!==void 0&&(s.autoCapturePageviews=r.autoCapturePageviews),r?.captureOnLocalhost!==void 0&&(s.captureOnLocalhost=r.captureOnLocalhost),{scriptInput:!l&&r?.domain?{src:n,"data-domain":r.domain}:{src:n},schema:void 0,scriptOptions:{use(){return{plausible:window.plausible}},clientInit(){window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(a){plausible.o=a||{}},window.plausible.init(s)}}}},e)}const Bt=Q({__name:"FolioMeta",props:{page:{},isWriting:{type:Boolean}},setup(e){Mt({domain:"canvas.hrcd.fr",scriptInput:{src:"https://analytics.hrcd.fr/js/script.js"}});const r=V(),{link:l,seo:t,profile:n}=ot(),s=I(()=>({title:e.isWriting?e.page?.title:e.page?.title||t.title,description:e.isWriting?e.page?.description:e.page?.description||t.description})),u=a=>r.path==="/"?a||`${t.title}`:e.isWriting?a:`${a} | ${t.title}`;return T({title:s.value.title,meta:[{property:"og:site_name",content:t.title},{property:"og:title",content:s.value.title},{property:"og:description",content:s.value.description},{property:"og:type",content:e.isWriting?"article":"website"},{property:"og:url",content:t.url},{name:"author",content:n.name},{name:"description",content:s.value.description},{name:"twitter:title",content:s.value.title},{name:"twitter:description",content:s.value.description},{name:"twitter:card",content:"summary_large_image"}]}),T({title:s.value.title,titleTemplate:u,meta:[{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"charset",content:"utf-8"},{name:"robots",content:"index, follow"},{name:"color-scheme",content:"light dark"}],link:l}),(a,p)=>it(a.$slots,"default")}}),Ut=Object.assign(Bt,{__name:"FolioMeta"}),Dt={key:0},qt={class:"text-sm font-extralight"},Ft={class:"writing mx-auto px-4 sm:max-w-2xl md:max-w-3xl lg:max-w-4xl"},Qt={class:"text-2xl font-bold"},Vt={class:"info-section mt-1 flex flex-col gap-2 sm:flex-row sm:gap-4"},zt=Q({__name:"[...slug]",async setup(e){let r,l;const t=V(),{locale:n,t:s,localeProperties:u}=at(),a=I(()=>Array.isArray(t.params.slug)?t.params.slug:[t.params.slug]),p=I(()=>dt(ft(n.value,"articles",...a.value))),m=I(()=>`articles_${n.value}`),{data:f}=([r,l]=ct(async()=>xt(p.value,async()=>await wt(m.value).path(p.value).first(),"$WKxwz6obVu")),r=await r,l(),r);if(!f.value)throw lt({statusCode:404,statusMessage:"Page not found"});const{copy:P}=bt();function i(){P(`${window.location.origin}${t.fullPath}`),W.success(s("global.article_link_copied"))}return _t({meta_k:{usingInput:!0,handler:()=>{P(`${window.location.origin}${t.fullPath}`),W.success(s("global.article_link_copied"))}}}),(_,o)=>{const c=Ut,d=gt,g=mt,h=yt,S=ht;return w(f)?(M(),ut("div",Dt,[$(c,{page:w(f),"is-writing":w(t).path.includes("/articles/")},null,8,["page","is-writing"]),$(g,{to:"/writing",class:"mx-auto my-8 flex cursor-pointer items-center gap-2 px-4 text-muted hover:text-primary transition-colors duration-200 sm:max-w-2xl md:max-w-3xl lg:max-w-4xl"},{default:H(()=>[$(d,{name:"lucide:arrow-left",class:"size-4"}),x("span",qt,k(_.$t("navigation.writing")),1)]),_:1}),x("article",Ft,[x("h1",Qt,k(w(f)?.title),1),x("div",Vt,[x("p",null,k(w(f)?.date),1),o[0]||(o[0]=x("p",{class:"hidden sm:block"}," | ",-1)),x("p",null,k(w(f)?.readingTime)+" "+k(_.$t("writing.readingTime")),1),o[1]||(o[1]=x("p",{class:"hidden sm:block"}," | ",-1)),$(h,{text:_.$t("writing.copy_link"),shortcuts:["⌘","K"]},{default:H(()=>[x("p",{class:"flex cursor-pointer select-none items-center gap-1 transition-colors duration-200 hover:text-primary",onClick:i},k(_.$t("writing.share")),1)]),_:1},8,["text"])]),w(f)?(M(),pt(S,{key:0,dir:w(u)?.dir??"ltr",value:w(f)},null,8,["dir","value"])):N("",!0)])])):N("",!0)}}}),oe=vt(zt,[["__scopeId","data-v-cdbdb9c9"]]);export{oe as default};
