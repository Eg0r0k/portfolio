import{A as P,a9 as Q,u as T,aa as R,J as E,K as z,O as G,ab as J,E as q,r as U,ac as w,ad as B,ae as L,C as M,H as V,af as X,b as W,ag as Z,ah as Y,ai as $}from"#entry";const k={trailing:!0};function K(e,t=25,r={}){if(r={...k,...r},!Number.isFinite(t))throw new TypeError("Expected `wait` to be a finite number");let o,s,m=[],n,a;const h=(c,_)=>(n=A(e,c,_),n.finally(()=>{if(n=null,r.trailing&&a&&!s){const D=h(c,a);return a=null,D}}),n),v=function(...c){return r.trailing&&(a=c),n||new Promise(_=>{const D=!s&&r.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const l=r.leading?o:h(this,c);a=null;for(const u of m)u(l);m=[]},t),D?(o=h(this,c),_(o)):m.push(_)})},i=c=>{c&&(clearTimeout(c),s=null)};return v.isPending=()=>!!s,v.cancel=()=>{i(s),m=[],a=null},v.flush=()=>{if(i(s),!a||n)return;const c=a;return a=null,h(this,c)},v}async function A(e,t,r){return await e.apply(t,r)}function ne(...e){const t=typeof e[e.length-1]=="string"?e.pop():void 0;ee(e[0],e[1])&&e.unshift(t);let[r,o,s={}]=e,m=!1;const n=P(()=>Q(r));if(typeof n.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const a=T();s.server??=!0,s.default??=ae,s.getCachedData??=S,s.lazy??=!1,s.immediate??=!0,s.deep??=R.deep,s.dedupe??="cancel",s._functionName,a._asyncData[n.value];function h(){const l={cause:"initial",dedupe:s.dedupe};return a._asyncData[n.value]?._init||(l.cachedData=s.getCachedData(n.value,a,{cause:"initial"}),a._asyncData[n.value]=F(a,n.value,o,s,l.cachedData)),()=>a._asyncData[n.value].execute(l)}const v=h(),i=a._asyncData[n.value];i._deps++;const c=s.server!==!1&&a.payload.serverRendered;{let l=function(d){const f=a._asyncData[d];f?._deps&&(f._deps--,f._deps===0&&f?._off())};const u=V();if(u&&c&&s.immediate&&!u.sp&&(u.sp=[]),u&&!u._nuxtOnBeforeMountCbs){u._nuxtOnBeforeMountCbs=[];const d=u._nuxtOnBeforeMountCbs;X(()=>{d.forEach(f=>{f()}),d.splice(0,d.length)}),W(()=>d.splice(0,d.length))}const g=u&&(u._nuxtClientOnly||Z(Y,!1));c&&a.isHydrating&&(i.error.value||i.data.value!==void 0)?i.status.value=i.error.value?"error":"success":u&&(!g&&a.payload.serverRendered&&a.isHydrating||s.lazy)&&s.immediate?u._nuxtOnBeforeMountCbs.push(v):s.immediate&&i.status.value!=="success"&&v();const y=J(),b=E(n,(d,f)=>{if((d||f)&&d!==f){m=!0;const C=a._asyncData[f]?.data.value!==void 0,H=a._asyncDataPromises[f]!==void 0,O={cause:"initial",dedupe:s.dedupe};if(!a._asyncData[d]?._init){let j;f&&C?j=a._asyncData[f].data.value:(j=s.getCachedData(d,a,{cause:"initial"}),O.cachedData=j),a._asyncData[d]=F(a,d,o,s,j)}a._asyncData[d]._deps++,f&&l(f),(s.immediate||C||H)&&a._asyncData[d].execute(O),$(()=>{m=!1})}},{flush:"sync"}),I=s.watch?E(s.watch,()=>{m||i._execute({cause:"watch",dedupe:s.dedupe})}):()=>{};y&&z(()=>{b(),I(),l(n.value)})}const _={data:p(()=>a._asyncData[n.value]?.data),pending:p(()=>a._asyncData[n.value]?.pending),status:p(()=>a._asyncData[n.value]?.status),error:p(()=>a._asyncData[n.value]?.error),refresh:(...l)=>a._asyncData[n.value]?._init?a._asyncData[n.value].execute(...l):h()(),execute:(...l)=>_.refresh(...l),clear:()=>N(a,n.value)},D=Promise.resolve(a._asyncDataPromises[n.value]).then(()=>_);return Object.assign(D,_),D}function p(e){return P({get(){return e()?.value},set(t){const r=e();r&&(r.value=t)}})}function ee(e,t){return!(typeof e=="string"||typeof e=="object"&&e!==null||typeof e=="function"&&typeof t=="function")}async function ie(e){await new Promise(r=>G(r)),await T().hooks.callHookParallel("app:data:refresh",void 0)}function N(e,t){t in e.payload.data&&(e.payload.data[t]=void 0),t in e.payload._errors&&(e.payload._errors[t]=void 0),e._asyncData[t]&&(e._asyncData[t].data.value=q(e._asyncData[t]._default()),e._asyncData[t].error.value=void 0,e._asyncData[t].status.value="idle"),t in e._asyncDataPromises&&(e._asyncDataPromises[t]&&(e._asyncDataPromises[t].cancelled=!0),e._asyncDataPromises[t]=void 0)}function te(e,t){const r={};for(const o of t)r[o]=e[o];return r}function F(e,t,r,o,s){e.payload._errors[t]??=void 0;const m=o.getCachedData!==S,n=r,a=o.deep?U:w,h=s!==void 0,v=e.hook("app:data:refresh",async c=>{(!c||c.includes(t))&&await i.execute({cause:"refresh:hook"})}),i={data:a(h?s:o.default()),pending:P(()=>i.status.value==="pending"),error:B(e.payload._errors,t),status:w("idle"),execute:(...c)=>{const[_,D=void 0]=c,l=_&&D===void 0&&typeof _=="object"?_:{};if(e._asyncDataPromises[t]){if((l.dedupe??o.dedupe)==="defer")return e._asyncDataPromises[t];e._asyncDataPromises[t].cancelled=!0}{const g="cachedData"in l?l.cachedData:o.getCachedData(t,e,{cause:l.cause??"refresh:manual"});if(g!==void 0)return e.payload.data[t]=i.data.value=g,i.error.value=void 0,i.status.value="success",Promise.resolve(g)}i.status.value="pending";const u=new Promise((g,y)=>{try{g(n(e))}catch(b){y(b)}}).then(async g=>{if(u.cancelled)return e._asyncDataPromises[t];let y=g;o.transform&&(y=await o.transform(g)),o.pick&&(y=te(y,o.pick)),e.payload.data[t]=y,i.data.value=y,i.error.value=void 0,i.status.value="success"}).catch(g=>{if(u.cancelled)return e._asyncDataPromises[t];i.error.value=M(g),i.data.value=q(o.default()),i.status.value="error"}).finally(()=>{u.cancelled||delete e._asyncDataPromises[t]});return e._asyncDataPromises[t]=u,e._asyncDataPromises[t]},_execute:K((...c)=>i.execute(...c),0,{leading:!0}),_default:o.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{v(),e._asyncData[t]?._init&&(e._asyncData[t]._init=!1),m||L(()=>{e._asyncData[t]?._init||(N(e,t),i.execute=()=>Promise.resolve())})}};return i}const ae=()=>{},S=(e,t,r)=>{if(t.isHydrating)return t.payload.data[e];if(r.cause!=="refresh:manual"&&r.cause!=="refresh:hook")return t.static.data[e]},x={content_en:"v3.5.0--AZzMBl_hG7EE3OSbaZ0ojwnjtv46jTO3i9zK2RgkapQ",content_ru:"v3.5.0--yX_9ZrHvUcrCxmNezSCPO3_UEkUk5LhdU95I6Nlsh0E",articles_en:"v3.5.0--X6RuSTJuN9KvJwEAX41xqKlcJF3v2hVG_JPF_9Cy62k",articles_ru:"v3.5.0--UpXzmopDSnIIhlFHlNVQBEt_5raPQVvHFeQPOKSEews",projects_en:"v3.5.0--HMWEWhQEYmGD0TnFb1-zSniZJHNDQzlsFx8LOOO1NFY",projects_ru:"v3.5.0--75GIgv_Qoox4RfcAEIlYvsxF1XpSL9fifzZkcx5CLG4",stack:"v3.5.0--17XFvXS8b-bEA6yCG9UN1CJFv3U1eeQpD10VJaaCEG4",faq_en:"v3.5.0--Ipmv6IWNPkLFOFPEJPLdX3ry5PyYzT47pHgghOHsoG4",faq_ru:"v3.5.0--WHsVeKOo1Ds7GtZoMNJy-ilDav0CLzdtsvIj-eGtTTQ"},re={content_en:"_content_content_en",content_ru:"_content_content_ru",articles_en:"_content_articles_en",articles_ru:"_content_articles_ru",projects_en:"_content_projects_en",projects_ru:"_content_projects_ru",stack:"_content_stack",faq_en:"_content_faq_en",faq_ru:"_content_faq_ru",info:"_content_info"},oe={content_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},content_ru:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",meta:"json",navigation:"json",ogImage:"json",path:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string"}},articles_en:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},articles_ru:{type:"page",fields:{id:"string",title:"string",body:"json",date:"string",description:"string",extension:"string",head:"json",image:"string",meta:"json",navigation:"json",ogImage:"json",path:"string",readingTime:"string",robots:"string",schemaOrg:"json",seo:"json",sitemap:"json",stem:"string",tags:"json"}},projects_en:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},projects_ru:{type:"data",fields:{id:"string",date:"string",extension:"string",featured:"boolean",image:"string",link:"string",meta:"json",name:"string",release:"string",stem:"string"}},stack:{type:"data",fields:{id:"string",extension:"string",items:"json",meta:"json",stem:"string"}},faq_en:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},faq_ru:{type:"data",fields:{id:"string",title:"string",extension:"string",faqQuestions:"json",meta:"json",stem:"string",subtitle:"string"}},info:{type:"data",fields:{}}};async function ce(e,t){return await $fetch(`/__nuxt_content/${t}/sql_dump.txt`,{context:{},responseType:"text",headers:{"content-type":"text/plain"},query:{v:x[String(t)],t:void 0}})}async function ue(e,t,r){return await $fetch(`/__nuxt_content/${t}/query`,{context:e?{cloudflare:e.context.cloudflare}:{},headers:{"content-type":"application/json",...e?.node?.req?.headers?.cookie?{cookie:e.node.req.headers.cookie}:{}},query:{v:x[String(t)],t:void 0},method:"POST",body:{sql:r}})}export{x as a,ce as b,oe as c,ue as f,ie as r,re as t,ne as u};
